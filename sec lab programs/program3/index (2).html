<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini Text Analyzer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 700px;
      margin: auto;
      background-color: #f9f9f9;
    }
    textarea {
      width: 100%;
      height: 150px;
      padding: 10px;
      font-size: 16px;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
    }
    .result {
      margin-top: 20px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #eee;
    }
  </style>
</head>
<body>

  <h2>ðŸ§  Mini Text Analyzer</h2>
  <textarea id="textInput" placeholder="Enter your paragraph here..."></textarea><br>
  <button onclick="analyzeText()">Analyze</button>

  <div class="result" id="output"></div>

  <script>
    function analyzeText() {
      const text = document.getElementById('textInput').value.trim();

      if (!text) {
        document.getElementById('output').innerHTML = "<p>Please enter some text to analyze.</p>";
        return;
      }

      // Clean and tokenize
      const words = text.match(/\b\w+\b/g) || [];
      const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
      const charCount = text.length;

      // Word frequency map
      const freqMap = {};
      words.forEach(word => {
        const lower = word.toLowerCase();
        freqMap[lower] = (freqMap[lower] || 0) + 1;
      });

      const uniqueWords = Object.keys(freqMap);

      // Sort frequency map by descending count
      const sortedFreq = Object.entries(freqMap).sort((a, b) => b[1] - a[1]);

      // HTML Output
      let freqTable = `
        <h4>ðŸ“Š Word Frequency (Sorted)</h4>
        <table>
          <tr><th>Word</th><th>Frequency</th></tr>
          ${sortedFreq.map(([word, count]) => `<tr><td>${word}</td><td>${count}</td></tr>`).join('')}
        </table>`;

      document.getElementById('output').innerHTML = `
        <p><strong>Total Characters:</strong> ${charCount}</p>
        <p><strong>Total Words:</strong> ${words.length}</p>
        <p><strong>Total Sentences:</strong> ${sentences.length}</p>
        <p><strong>Unique Words:</strong> ${uniqueWords.length}</p>
        ${freqTable}
      `;
    }
  </script>

</body>
</html>
